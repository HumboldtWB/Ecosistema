---
import Layout from "../layouts/Layout.astro";
---

<Layout title="Preguntas frecuentes | Talento Humano | Ecosistema Humboldt">
  <main>
    <!-- ‚úÖ ESTE DIV es el que tiene el fondo (NO el footer) -->
    <div class="th-page">
      <!-- Volver -->
      <div class="max-w-[90%] mx-auto w-full flex justify-start">
  <a
    href="/missolicitudes"
    class="text-azul-humboldt text-base mt-10 mb-3 flex items-center cursor-pointer"
  >
    <img src="/img/volver.svg" alt="volver" width="20" class="mr-3" />
    <span>Volver</span>
  </a>
</div>

    <section class="mt-16">
      <div class="max-w-[90%] md:max-w-[85%] mx-auto">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-10 items-start">

          <!-- COLUMNA IZQUIERDA -->
          <div>
            <h1 class="text-black text-5xl font-bold leading-tight">
              Preguntas frecuentes <span class="font-bold">Gesti√≥n Humana</span>
            </h1>

            <div class="mt-10 space-y-6 text-gray-700 text-base leading-relaxed max-w-xl">
              <p>
                Aqu√≠ encontrar√°s respuestas r√°pidas a las preguntas m√°s comunes sobre los
                procesos de Gesti√≥n Humana, con acceso directo a procedimientos, formatos
                y recursos de apoyo.
              </p>

              <p>
                Usa el buscador o despliega cada pregunta para ver el paso a paso, enlaces
                y recomendaciones para completar tu solicitud correctamente.
              </p>

              <p>
                Si necesitas soporte adicional, al final encontrar√°s los canales de contacto
                oficiales para recibir orientaci√≥n.
              </p>
            </div>
          </div>

          <!-- COLUMNA DERECHA (CARD + BUSCADOR + ACORDE√ìN) -->
          <div class="bg-white rounded-3xl shadow-xl p-8 border border-gray-200">

            <!-- BUSCADOR -->
            <div class="mb-6">
              <label for="faqSearch" class="block text-sm font-semibold text-gray-700 mb-2">
                Buscar en preguntas frecuentes
              </label>

                <input
                  id="faqSearch"
                  type="text"
                  placeholder="Ej: vacaciones, certificados, permisos..."
                  class="faq-search"
                />

                <span class="absolute right-4 top-1/2 -translate-y-1/2 text-gray-400">
                  üîç
                </span>
              </div>

              <p id="faqSearchHint" class="text-xs text-gray-500 mt-2">
                Tip: puedes buscar por palabras clave como ‚Äúvacaciones‚Äù, ‚Äúcertificado‚Äù, ‚Äúingresar‚Äù, etc.
              </p>
            </div>

            <!-- MENSAJE SIN RESULTADOS -->
            <div
              id="noResults"
              class="hidden text-sm text-gray-600 bg-gray-50 border border-gray-200 rounded-2xl p-4 mb-4"
            >
              No se encontraron resultados para tu b√∫squeda.
            </div>

            <!-- ACORDE√ìN -->
            <div id="accordion-faq" data-accordion="collapse" class="space-y-2">

              <!-- ITEM 1 -->
              <div class="faq-item">
                <h2 id="accordion-faq-heading-1">
                  <button
                    type="button"
                    class="flex items-center justify-between w-full py-4 text-left font-bold text-lg text-black border-b border-gray-300"
                    data-accordion-target="#accordion-faq-body-1"
                    aria-expanded="true"
                    aria-controls="accordion-faq-body-1"
                  >
                    <span class="faq-question">¬øC√≥mo puedo solicitar mis d√≠as de vacaciones?</span>
                    <svg
                      data-accordion-icon
                      class="w-5 h-5 rotate-180 shrink-0"
                      aria-hidden="true"
                      xmlns="http://www.w3.org/2000/svg"
                      fill="none"
                      viewBox="0 0 10 6"
                    >
                      <path
                        stroke="currentColor"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M9 5 5 1 1 5"
                      />
                    </svg>
                  </button>
                </h2>

                <div
                  id="accordion-faq-body-1"
                  class="hidden"
                  aria-labelledby="accordion-faq-heading-1"
                >
                  <div class="pt-5 pb-6 text-gray-700 text-sm leading-relaxed">
                    <p class="faq-answer">
                      Para solicitar tus vacaciones debes ingresar al m√≥dulo correspondiente,
                      validar tu saldo disponible y realizar la solicitud indicando las fechas.
                      La aprobaci√≥n depende de tu jefe inmediato y del flujo de Gesti√≥n Humana.
                    </p>

                    <div class="mt-6 flex flex-wrap gap-3">
                      <a
                        href="#"
                        class="inline-flex items-center gap-2 px-5 py-2 border border-gray-400 rounded-full text-sm font-medium hover:bg-gray-100 transition"
                      >
                        Mira el procedimiento aqu√≠
                        <span>‚Ä∫</span>
                      </a>

                      <a href="#" class="faq-pill">
                        Mira el tutorial aqu√≠ <span>‚Ä∫</span>
                      </a>
                    </div>
                  </div>
                </div>

                <div class="faq-item">
                  <button type="button" class="faq-question">
                    ¬øC√≥mo descargo mi desprendible de n√≥mina?
                    <span class="faq-icon">+</span>
                  </button>
                  <div class="faq-answer">
                    Puedes descargar tu desprendible de n√≥mina desde <b>Xtickets</b>. Si no tienes acceso,
                    valida con Talento Humano el usuario habilitado.
                  </div>
                </div>

              <!-- ITEM 2 -->
              <div class="faq-item">
                <h2 id="accordion-faq-heading-2">
                  <button
                    type="button"
                    class="flex items-center justify-between w-full py-4 text-left font-bold text-lg text-black border-b border-gray-300"
                    data-accordion-target="#accordion-faq-body-2"
                    aria-expanded="false"
                    aria-controls="accordion-faq-body-2"
                  >
                    <span class="faq-question">¬øC√≥mo solicito un certificado laboral?</span>
                    <svg
                      data-accordion-icon
                      class="w-5 h-5 rotate-180 shrink-0"
                      aria-hidden="true"
                      xmlns="http://www.w3.org/2000/svg"
                      fill="none"
                      viewBox="0 0 10 6"
                    >
                      <path
                        stroke="currentColor"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M9 5 5 1 1 5"
                      />
                    </svg>
                  </button>
                </h2>

                <div
                  id="accordion-faq-body-2"
                  class="hidden"
                  aria-labelledby="accordion-faq-heading-2"
                >
                  <div class="pt-5 pb-6 text-gray-700 text-sm leading-relaxed">
                    <p class="faq-answer">
                      Puedes solicitar tu certificado laboral desde el portal de autogesti√≥n.
                      Selecciona el tipo de certificado y desc√°rgalo o env√≠alo por correo.
                    </p>
                  </div>
                </div>

                <div class="faq-item">
                  <button type="button" class="faq-question">
                    ¬øQu√© hago si tengo problemas de acceso a una plataforma?
                    <span class="faq-icon">+</span>
                  </button>
                  <div class="faq-answer">
                    Si presentas inconvenientes, intenta primero con tu usuario institucional.
                    Si el problema contin√∫a, realiza una solicitud por <b>Xtickets</b> o contacta al √°rea responsable.
                  </div>
                </div>

              <!-- ITEM 3 -->
              <div class="faq-item">
                <h2 id="accordion-faq-heading-3">
                  <button
                    type="button"
                    class="flex items-center justify-between w-full py-4 text-left font-bold text-lg text-black border-b border-gray-300"
                    data-accordion-target="#accordion-faq-body-3"
                    aria-expanded="false"
                    aria-controls="accordion-faq-body-3"
                  >
                    <span class="faq-question">¬øQu√© hago si tengo problemas para ingresar al portal?</span>
                    <svg
                      data-accordion-icon
                      class="w-5 h-5 rotate-180 shrink-0"
                      aria-hidden="true"
                      xmlns="http://www.w3.org/2000/svg"
                      fill="none"
                      viewBox="0 0 10 6"
                    >
                      <path
                        stroke="currentColor"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M9 5 5 1 1 5"
                      />
                    </svg>
                  </button>
                </h2>

                <div
                  id="accordion-faq-body-3"
                  class="hidden"
                  aria-labelledby="accordion-faq-heading-3"
                >
                  <div class="pt-5 pb-6 text-gray-700 text-sm leading-relaxed">
                    <p class="faq-answer">
                      Verifica tu usuario, contrase√±a y conexi√≥n. Si el error persiste,
                      contacta al equipo de soporte o Gesti√≥n Humana.
                    </p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

  </main>
</Layout>

<footer class="bg-azul-humboldt py-10 border-t-4 border-yellow-500 mt-5 absolute w-full">
  <div class="max-w-[90%] mx-auto">
    <div class="grid grid-cols-1 md:grid-cols-2 justify-items-stretch">
      <div>
        <div
          class="grid grid-cols-[80px_calc(100%-80px)] justify-items-stretch gap-5 items-center"
        >
          <div class="max-w-[80px]">
            <a
              href="https://www.humboldt.org.co/"
              target="_blank"
              rel="noopener noreferrer"
            >
              <img
                src="https://assets-global.website-files.com/64bea006689ebc2d5d9499ad/6583a5f7b42a8d484be84409_Logo-instituto-humboldt-blanco.svg"
                alt=""
                width="69"
              />
            </a>
          </div>
          <div class="w-full max-w-[300px] text-white pr-3">
            Instituto de Investigaci√≥n de Recursos Biol√≥gicos Alexander von
            Humboldt
          </div>
        </div>
      </div>

      <div>
        <ul class="flex justify-center md:justify-end mt-5 md:mt-0">
          <li class="px-2">
            <a
              href="https://www.instagram.com/instituto_humboldt/?hl=en"
              target="_blank"
              rel="noopener noreferrer"
            >
              <img
                src="https://assets-global.website-files.com/64bea006689ebc2d5d9499ad/657711e3cc843b07646baad6_icono-instagram-blanco.svg"
                alt=""
                width="32"
              />
            </a>
          </li>
          <li class="px-2">
            <a
              href="https://twitter.com/inst_humboldt?lang=en"
              target="_blank"
              rel="noopener noreferrer"
            >
              <img
                src="https://assets-global.website-files.com/64bea006689ebc2d5d9499ad/657711199a64d7f0ef48c28c_icono-x-blanco.svg"
                alt=""
                width="32"
              />
            </a>
          </li>
          <li class="px-2">
            <a
              href="https://www.facebook.com/instituto.humboldt/"
              target="_blank"
              rel="noopener noreferrer"
            >
              <img
                src="https://assets-global.website-files.com/64bea006689ebc2d5d9499ad/65771119a5763ee944f396c3_icono-facebook-blanco.svg"
                alt=""
                width="32"
              />
            </a>
          </li>
          <li class="px-2">
            <a
              href="https://www.linkedin.com/company/institutohumboldt/?originalSubdomain=co"
              target="_blank"
              rel="noopener noreferrer"
            >
              <img
                src="https://assets-global.website-files.com/64bea006689ebc2d5d9499ad/657711190b1a571b7045f5c7_icono-linkedin-blanco.svg"
                alt=""
                width="32"
              />
            </a>
          </li>
          <li class="px-2">
            <a
              href="https://www.youtube.com/channel/UC-E-nTOTySNX90RbpH62ezA"
              target="_blank"
              rel="noopener noreferrer"
            >
              <img
                src="https://assets-global.website-files.com/64bea006689ebc2d5d9499ad/65771119d66b0bd5f6a7af5f_icono-youtube-blanco.svg"
                alt=""
                width="32"
              />
            </a>
          </li>
          <li class="px-2">
            <a
              href="https://open.spotify.com/artist/6b3YLUNZoyMLWdadl3NDZm"
              target="_blank"
              rel="noopener noreferrer"
            >
              <img
                src="https://assets-global.website-files.com/64bea006689ebc2d5d9499ad/65771246c23bb08e9b3f3800_icono-spotify-blanco.svg"
                alt=""
                width="32"
              />
            </a>
          </li>
        </ul>
      </div>
    </div>

    <hr class="mt-10 mb-5" />

    <div
      class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3 mt-10 justify-center"
    >
      <div>
        <div class="text-[12px] font-bold text-white mb-2">
          INFORMACI√ìN DE CONTACTO
        </div>
        <p class="text-white mb-2">
          Calle 72 # 12 - 65 Piso 7 Bogot√° D.C., Colombia
        </p>
        <p class="text-white mb-2">PBX: (+57) 601 320 2767</p>
      </div>
      <div>
        <div class="text-[12px] font-bold text-white mb-2">
          HORARIO DE ATENCI√ìN
        </div>
        <p class="text-white mb-2">Lunes a viernes 8:00 a.m. - 5:00 p.m.</p>
      </div>
      <div>
        <div class="text-[12px] font-bold text-white mb-2">
          L√çNEAS ESPECIALES
        </div>
        <p class="text-white mb-4">
          L√≠nea anticorrupci√≥n: <span class="underline">01 800 518 9191</span>
        </p>
      </div>
      <div>
        <div class="text-[12px] font-bold text-white mb-2">
          ATENCI√ìN AL CIUDADANO
        </div>
        <p class="text-white">
          Correo PQRSF: <br />
          <a
            href="mailto:atencionalciudadano@humboldt.org.co"
            class="underline"
          >
            atencionalciudadano@humboldt.org.co
          </a>
        </p>
      </div>
    </div>

    <hr class="my-5" />

    <p class="text-center text-[12px] text-white">
      ¬© 2024 INSTITUTO DE INVESTIGACI√ìN DE RECURSOS BIOL√ìGICOS ALEXANDER VON
      HUMBOLDT
    </p>
  </div>
</footer>
<script>
  document.addEventListener("DOMContentLoaded", () => {
    const input = document.getElementById("faqSearch") as HTMLInputElement | null;
    const noResults = document.getElementById("noResults") as HTMLElement | null;

    const faqItems = document.querySelectorAll(".faq-item") as NodeListOf<HTMLElement>;

    if (!input) return;

    const normalize = (text: string) =>
      text.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g, "");

    const filterFaq = () => {
      if (!input) return;

      const typedInput = input as HTMLInputElement;
      const searchValue = normalize(typedInput.value.trim());

      faqItems.forEach((item) => {
        const questionEl = item.querySelector(".faq-question") as HTMLElement | null;
        const answerEl = item.querySelector(".faq-answer") as HTMLElement | null;

        const questionText = normalize(questionEl ? questionEl.textContent || "" : "");
        const answerText = normalize(answerEl ? answerEl.textContent || "" : "");

        const match =
          searchValue === "" ||
          questionText.includes(searchValue) ||
          answerText.includes(searchValue);

        typedItem.style.display = match ? "block" : "none";
      });
    };
    if (input)

    input.addEventListener("input", filterFaq);
  });
</script>

<style>
  /* ==============================
     Fondo SOLO del contenido (igual a missolicitudes)
     ============================== */
.th-page {
    position: relative;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    overflow: hidden;
  }

  .th-page::after {
    content: "";
    position: absolute;
    inset: 0;
    background-image: url("/img/Fondo-ecosistema.png");
    background-repeat: no-repeat;
    z-index: 0;
    pointer-events: none;
  }

  .th-page > * {
    position: relative;
    z-index: 1;
  }

  /* üì± RESPONSIVE: M√≥vil (P√°jaro abajo y completo) */
  @media (max-width: 768px) {
    .th-page {
      /* A√±adimos un padding inferior grande para que el contenido 
         no tape al p√°jaro que estar√° al fondo */
      padding-bottom: 300px; 
    }

    .th-page::after {
      /* 'contain' asegura que la imagen no se corte */
      background-size: contain; 
      /* 'bottom' lo pega abajo, 'center' lo centra horizontalmente */
      background-position: bottom center; 
    }
  }

  /* üñ•Ô∏è DESKTOP: (P√°jaro a la izquierda) */
  @media (min-width: 1025px) {
    .th-page {
      padding-bottom: 80px;
    }

    .th-page::after {
      background-size: cover;
      /* En escritorio, alineamos arriba a la izquierda */
      background-position: left top; 
    }
  }

  /* FAQ */
  .faq-content {
    background: transparent !important;
    border-radius: 24px;
    padding: 0;
  }

  .faq-divider {
    border: none;
    height: 2px;
    background: #1f2a44;
    opacity: 0.9;
    margin: 24px 0;
  }

  .faq-search {
    width: 100%;
    max-width: 520px;
    border: 1px solid rgba(0, 0, 0, 0.25);
    border-radius: 12px;
    padding: 14px 14px;
    font-size: 14px;
    outline: none;
    background: rgba(255, 255, 255, 0.85);
    backdrop-filter: blur(6px);
  }

  .faq-search:focus {
    border-color: rgba(15, 47, 63, 0.8);
    box-shadow: 0 0 0 3px rgba(15, 47, 63, 0.15);
  }

  .faq-item {
    border-radius: 14px;
    overflow: hidden;
    border: 1px solid rgba(0, 0, 0, 0.12);
    background: rgba(255, 255, 255, 0.85);
    backdrop-filter: blur(6px);
  }

  .faq-question {
    width: 100%;
    text-align: left;
    padding: 16px 18px;
    font-weight: 800;
    font-size: 14px;
    color: #0f2f3f;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 12px;
    cursor: pointer;
    border: none;
    background: transparent;
  }

  .faq-icon {
    font-size: 22px;
    font-weight: 900;
    line-height: 1;
  }

  .faq-answer {
    display: none;
    padding: 0 18px 16px 18px;
    font-size: 14px;
    color: #333;
    line-height: 1.6;
  }

  .faq-answer.open {
    display: block;
  }

  .faq-links {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
    margin-top: 14px;
  }

  .faq-pill {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    background: #111;
    color: #fff;
    border-radius: 999px;
    padding: 6px 12px;
    font-size: 11px;
    font-weight: 700;
    text-decoration: none;
  }

  .faq-pill:hover {
    opacity: 0.9;
  }
</style>
