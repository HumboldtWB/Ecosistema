---
import Layout from "../layouts/Layout.astro";
---

<Layout title="Preguntas Frecuentes | Ecosistema Humboldt">
  <main>
    <div class="max-w-[90%] mx-auto">
      <span
        onclick="history.back()"
        class="text-azul-humboldt text-base mt-10 mb-3 block cursor-pointer"
      >
        <img src="img/volver.svg" alt="volver" width="20" class="inline mr-3" />
        Volver
      </span>
    </div>

    <section class="mt-16">
      <div class="max-w-[90%] md:max-w-[85%] mx-auto">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-10 items-start">
          <!-- COLUMNA IZQUIERDA -->
          <div>
            <h1 class="text-black text-5xl font-bold leading-tight">
              Preguntas frecuentes <span class="font-bold">Gesti√≥n Humana</span>
            </h1>

            <div
              class="mt-10 space-y-6 text-gray-700 text-base leading-relaxed max-w-xl"
            >
              <p>
                Aqu√≠ encontrar√°s respuestas r√°pidas a las preguntas m√°s comunes
                sobre los procesos de Gesti√≥n Humana, con acceso directo a
                procedimientos, formatos y recursos de apoyo.
              </p>

              <p>
                Usa el buscador o despliega cada pregunta para ver el paso a
                paso, enlaces y recomendaciones para completar tu solicitud
                correctamente.
              </p>

              <p>
                Si necesitas soporte adicional, al final encontrar√°s los canales
                de contacto oficiales para recibir orientaci√≥n.
              </p>
            </div>
          </div>

          <!-- COLUMNA DERECHA (CARD + BUSCADOR + ACORDE√ìN) -->
          <div
            class="bg-white rounded-3xl shadow-xl p-8 border border-gray-200"
          >
            <!-- BUSCADOR -->
            <div class="mb-6">
              <label
                for="faqSearch"
                class="block text-sm font-semibold text-gray-700 mb-2"
              >
                Buscar en preguntas frecuentes
              </label>

              <div class="relative">
                <input
                  id="faqSearch"
                  type="text"
                  placeholder="Ej: vacaciones, certificado, portal, ingreso..."
                  class="w-full border border-gray-300 rounded-2xl px-4 py-3 pr-12 text-sm focus:outline-none focus:ring-2 focus:ring-yellow-400"
                />

                <span
                  class="absolute right-4 top-1/2 -translate-y-1/2 text-gray-400"
                >
                  üîç
                </span>
              </div>

              <p id="faqSearchHint" class="text-xs text-gray-500 mt-2">
                Tip: puedes buscar por palabras clave como ‚Äúvacaciones‚Äù,
                ‚Äúcertificado‚Äù, ‚Äúingresar‚Äù, etc.
              </p>
            </div>

            <!-- MENSAJE SIN RESULTADOS -->
            <div
              id="noResults"
              class="hidden text-sm text-gray-600 bg-gray-50 border border-gray-200 rounded-2xl p-4 mb-4"
            >
              No se encontraron resultados para tu b√∫squeda.
            </div>

            <!-- ACORDE√ìN -->
            <div id="accordion-faq" data-accordion="collapse" class="space-y-2">
              <!-- ITEM 1 -->
              <div class="faq-item">
                <h2 id="accordion-faq-heading-1">
                  <button
                    type="button"
                    class="flex items-center justify-between w-full py-4 text-left font-bold text-lg text-black border-b border-gray-300"
                    data-accordion-target="#accordion-faq-body-1"
                    aria-expanded="true"
                    aria-controls="accordion-faq-body-1"
                  >
                    <span class="faq-question"
                      >¬øC√≥mo puedo solicitar mis d√≠as de vacaciones?</span
                    >
                    <svg
                      data-accordion-icon
                      class="w-5 h-5 rotate-180 shrink-0"
                      aria-hidden="true"
                      xmlns="http://www.w3.org/2000/svg"
                      fill="none"
                      viewBox="0 0 10 6"
                    >
                      <path
                        stroke="currentColor"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M9 5 5 1 1 5"></path>
                    </svg>
                  </button>
                </h2>

                <div
                  id="accordion-faq-body-1"
                  class="hidden"
                  aria-labelledby="accordion-faq-heading-1"
                >
                  <div class="pt-5 pb-6 text-gray-700 text-sm leading-relaxed">
                    <p class="faq-answer">
                      Para solicitar tus vacaciones debes ingresar al m√≥dulo
                      correspondiente, validar tu saldo disponible y realizar la
                      solicitud indicando las fechas. La aprobaci√≥n depende de
                      tu jefe inmediato y del flujo de Gesti√≥n Humana.
                    </p>

                    <div class="mt-6 flex flex-wrap gap-3">
                      <a
                        href="#"
                        class="inline-flex items-center gap-2 px-5 py-2 border border-gray-400 rounded-full text-sm font-medium hover:bg-gray-100 transition"
                      >
                        Mira el procedimiento aqu√≠
                        <span>‚Ä∫</span>
                      </a>

                      <a
                        href="#"
                        class="inline-flex items-center gap-2 px-5 py-2 border border-gray-400 rounded-full text-sm font-medium hover:bg-gray-100 transition"
                      >
                        Mira el video tutorial aqu√≠
                        <span>‚Ä∫</span>
                      </a>
                    </div>
                  </div>
                </div>
              </div>

              <!-- ITEM 2 -->
              <div class="faq-item">
                <h2 id="accordion-faq-heading-2">
                  <button
                    type="button"
                    class="flex items-center justify-between w-full py-4 text-left font-bold text-lg text-black border-b border-gray-300"
                    data-accordion-target="#accordion-faq-body-2"
                    aria-expanded="false"
                    aria-controls="accordion-faq-body-2"
                  >
                    <span class="faq-question"
                      >¬øC√≥mo solicito un certificado laboral?</span
                    >
                    <svg
                      data-accordion-icon
                      class="w-5 h-5 rotate-180 shrink-0"
                      aria-hidden="true"
                      xmlns="http://www.w3.org/2000/svg"
                      fill="none"
                      viewBox="0 0 10 6"
                    >
                      <path
                        stroke="currentColor"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M9 5 5 1 1 5"></path>
                    </svg>
                  </button>
                </h2>

                <div
                  id="accordion-faq-body-2"
                  class="hidden"
                  aria-labelledby="accordion-faq-heading-2"
                >
                  <div class="pt-5 pb-6 text-gray-700 text-sm leading-relaxed">
                    <p class="faq-answer">
                      Puedes solicitar tu certificado laboral desde el portal de
                      autogesti√≥n. Selecciona el tipo de certificado y
                      desc√°rgalo o env√≠alo por correo.
                    </p>
                  </div>
                </div>
              </div>

              <!-- ITEM 3 -->
              <div class="faq-item">
                <h2 id="accordion-faq-heading-3">
                  <button
                    type="button"
                    class="flex items-center justify-between w-full py-4 text-left font-bold text-lg text-black border-b border-gray-300"
                    data-accordion-target="#accordion-faq-body-3"
                    aria-expanded="false"
                    aria-controls="accordion-faq-body-3"
                  >
                    <span class="faq-question"
                      >¬øQu√© hago si tengo problemas para ingresar al portal?</span
                    >
                    <svg
                      data-accordion-icon
                      class="w-5 h-5 rotate-180 shrink-0"
                      aria-hidden="true"
                      xmlns="http://www.w3.org/2000/svg"
                      fill="none"
                      viewBox="0 0 10 6"
                    >
                      <path
                        stroke="currentColor"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M9 5 5 1 1 5"></path>
                    </svg>
                  </button>
                </h2>

                <div
                  id="accordion-faq-body-3"
                  class="hidden"
                  aria-labelledby="accordion-faq-heading-3"
                >
                  <div class="pt-5 pb-6 text-gray-700 text-sm leading-relaxed">
                    <p class="faq-answer">
                      Verifica tu usuario, contrase√±a y conexi√≥n. Si el error
                      persiste, contacta al equipo de soporte o Gesti√≥n Humana.
                    </p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>
</Layout>

<footer
  class="bg-azul-humboldt py-10 border-t-4 border-yellow-500 mt-5 absolute w-full"
>
  <div class="max-w-[90%] mx-auto">
    <div class="grid grid-cols-1 md:grid-cols-2 justify-items-stretch">
      <div>
        <div
          class="grid grid-cols-[80px_calc(100%-80px)] justify-items-stretch gap-5 items-center"
        >
          <div class="max-w-[80px]">
            <a
              href="https://www.humboldt.org.co/"
              target="_blank"
              rel="noopener noreferrer"
            >
              <img
                src="https://assets-global.website-files.com/64bea006689ebc2d5d9499ad/6583a5f7b42a8d484be84409_Logo-instituto-humboldt-blanco.svg"
                alt=""
                width="69"
              />
            </a>
          </div>
          <div class="w-full max-w-[300px] text-white pr-3">
            Instituto de Investigaci√≥n de Recursos Biol√≥gicos Alexander von
            Humboldt
          </div>
        </div>
      </div>

      <div>
        <ul class="flex justify-center md:justify-end mt-5 md:mt-0">
          <li class="px-2">
            <a
              href="https://www.instagram.com/instituto_humboldt/?hl=en"
              target="_blank"
              rel="noopener noreferrer"
            >
              <img
                src="https://assets-global.website-files.com/64bea006689ebc2d5d9499ad/657711e3cc843b07646baad6_icono-instagram-blanco.svg"
                alt=""
                width="32"
              />
            </a>
          </li>
          <li class="px-2">
            <a
              href="https://twitter.com/inst_humboldt?lang=en"
              target="_blank"
              rel="noopener noreferrer"
            >
              <img
                src="https://assets-global.website-files.com/64bea006689ebc2d5d9499ad/657711199a64d7f0ef48c28c_icono-x-blanco.svg"
                alt=""
                width="32"
              />
            </a>
          </li>
          <li class="px-2">
            <a
              href="https://www.facebook.com/instituto.humboldt/"
              target="_blank"
              rel="noopener noreferrer"
            >
              <img
                src="https://assets-global.website-files.com/64bea006689ebc2d5d9499ad/65771119a5763ee944f396c3_icono-facebook-blanco.svg"
                alt=""
                width="32"
              />
            </a>
          </li>

          <li class="px-2">
            <a
              href="https://www.linkedin.com/company/institutohumboldt/?originalSubdomain=co"
              target="_blank"
              rel="noopener noreferrer"
            >
              <img
                src="https://assets-global.website-files.com/64bea006689ebc2d5d9499ad/657711190b1a571b7045f5c7_icono-linkedin-blanco.svg"
                alt=""
                width="32"
              />
            </a>
          </li>
          <li class="px-2">
            <a
              href="https://www.youtube.com/channel/UC-E-nTOTySNX90RbpH62ezA"
              target="_blank"
              rel="noopener noreferrer"
            >
              <img
                src="https://assets-global.website-files.com/64bea006689ebc2d5d9499ad/65771119d66b0bd5f6a7af5f_icono-youtube-blanco.svg"
                alt=""
                width="32"
              />
            </a>
          </li>
          <li class="px-2">
            <a
              href="https://open.spotify.com/artist/6b3YLUNZoyMLWdadl3NDZm"
              target="_blank"
              rel="noopener noreferrer"
            >
              <img
                src="https://assets-global.website-files.com/64bea006689ebc2d5d9499ad/65771246c23bb08e9b3f3800_icono-spotify-blanco.svg"
                alt=""
                width="32"
              />
            </a>
          </li>
        </ul>
      </div>
    </div>

    <hr class="mt-10 mb-5" />

    <div
      class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3 mt-10 justify-center"
    >
      <div>
        <div class="text-[12px] font-bold text-white mb-2">
          INFORMACI√ìN DE CONTACTO
        </div>
        <p class="text-white mb-2">
          Calle 72 # 12 - 65 Piso 7 Bogot√° D.C., Colombia
        </p>
        <p class="text-white mb-2">PBX: (+57) 601 320 2767</p>
      </div>
      <div>
        <div class="text-[12px] font-bold text-white mb-2">
          HORARIO DE ATENCI√ìN
        </div>
        <p class="text-white mb-2">Lunes a viernes 8:00 a.m. - 5:00 p.m.</p>
      </div>
      <div>
        <div class="text-[12px] font-bold text-white mb-2">
          L√çNEAS ESPECIALES
        </div>
        <p class="text-white mb-4">
          L√≠nea anticorrupci√≥n: <span class="underline">01 800 518 9191</span>
        </p>
      </div>
      <div>
        <div class="text-[12px] font-bold text-white mb-2">
          ATENCI√ìN AL CIUDADANO
        </div>
        <p class="text-white">
          Correo PQRSF: <br />
          <a
            href="mailto:atencionalciudadano@humboldt.org.co"
            class="underline"
          >
            atencionalciudadano@humboldt.org.co
          </a>
        </p>
      </div>
    </div>

    <hr class="my-5" />

    <p class="text-center text-[12px] text-white">
      ¬© 2024 INSTITUTO DE INVESTIGACI√ìN DE RECURSOS BIOL√ìGICOS ALEXANDER VON
      HUMBOLDT
    </p>
  </div>
</footer>

<script src="flowbite/dist/flowbite.min.js"></script>

<!-- SCRIPT BUSCADOR FAQ -->
<script>
  document.addEventListener("DOMContentLoaded", () => {
    const input = document.getElementById(
      "faqSearch",
    ) as HTMLInputElement | null;
    const noResults = document.getElementById(
      "noResults",
    ) as HTMLElement | null;

    const faqItems = document.querySelectorAll(
      ".faq-item",
    ) as NodeListOf<HTMLElement>;

    if (!input) return;

    const normalize = (text: string) =>
      text
        .toLowerCase()
        .normalize("NFD")
        .replace(/[\u0300-\u036f]/g, "");

    const filterFaq = () => {
      const searchValue = normalize(input.value.trim());
      let visibleCount = 0;

      faqItems.forEach((item) => {
        const questionEl = item.querySelector(
          ".faq-question",
        ) as HTMLElement | null;
        const answerEl = item.querySelector(
          ".faq-answer",
        ) as HTMLElement | null;

        const questionText = normalize(questionEl?.innerText || "");
        const answerText = normalize(answerEl?.innerText || "");

        const match =
          searchValue === "" ||
          questionText.includes(searchValue) ||
          answerText.includes(searchValue);

        item.style.display = match ? "block" : "none";

        if (match) visibleCount++;
      });

      if (noResults) {
        noResults.classList.toggle("hidden", visibleCount !== 0);
      }
    };

    input.addEventListener("input", filterFaq);
  });
</script>

<style>
  .link-card-grid {
    display: flex;
    justify-content: space-around;
    align-items: center;
    border: 1px solid #000;
    margin: 1em auto;
    padding: 1em;
    border-radius: 10em;
  }
  .link-card-grid .opciones a {
    text-decoration: underline;
  }
  @media screen and (max-width: 767px) {
    .link-card-grid {
      flex-direction: column;
      border: none;
      margin: 0.5em auto;
      padding: 1em;
    }
  }
</style>
